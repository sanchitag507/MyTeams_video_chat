<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>video chat</title>
    <script>
        const ROOM_ID="{{roomId}}";
        console.log(ROOM_ID);
    </script>
    <style>
      body{
        background-image: radial-gradient(#000000,#000000);
      }

      .box {
	      display: flex;
      }

      .box .inner {
	      width: 120px;
	      height: 70px;
	      line-height: 70px;
	      font-size: 2em;
	      font-family: sans-serif;
	      font-weight: bold;
	      white-space: nowrap;
	      overflow: hidden;
      }

      .box .inner:first-child {
	      background-color: #0080ff;
	      color: darkblue;
	      transform-origin: right;
	      transform: perspective(100px) rotateY(-15deg);
      }

      .box .inner:last-child {
	      background-color: #00FFFF;
	      color: antiquewhite;
	      transform-origin: left;
	      transform: perspective(100px) rotateY(15deg);
      }

      .box .inner span {
	      position: absolute;
	      animation: marquee 5s linear infinite;
      }

      .box .inner:first-child span {
	      animation-delay: 2.5s;
	      left: -100%;
      }

      @keyframes marquee {
	      from {
		      left: 100%;
	      }

	      to {
		      left: -100%;
	      }
      }
      .dropdown:hover .dropdown-menu{
        display: block;
      }
      .dropdown-menu{
        margin-top: 0;
      }
    </style>
    <script>
      

      $(document).ready(function(){


        $(".dropdown").hover(function(){
          var dropdownMenu = $(this).children(".dropdown-menu");
          if(dropdownMenu.is(":visible")){
            dropdownMenu.parent().toggleClass("open");
          }
        });


      });     
    </script>
  </head>
  <body>



      <nav class="navbar navbar-expand-lg navbar-light bg-dark">
        <div class="container-fluid">
            {{!-- <img src="/teams.png" class="img-fluid" alt="Teams" width="60" height="40" loading="lazy">
            <div class="p-1"><a class="navbar-brand" href="#">Teams</a></div> --}}
            <div class="box">
              <div class="inner">
                <span>MyTeams</span>
              </div>
              <div class="inner">
                <span>MyTeams</span>
              </div>
            </div>
            <div class="d-flex justify-content-end" id="navbarSupportedContent">
              {{#if user}}
              <div class="p-3"><a class="btn btn-primary" href="#" role="button">{{user.username}}</a></div>
              <div class="p-3"><a class="btn btn-primary" href="/logout" role="button">logout</a></div>
              {{else}}
              <div class="p-3"><a class="btn btn-primary" href="/signup" role="button">Signup</a></div>
              <div class="p-3"><a class="btn btn-primary" href="/signin" role="button">Signin</a></div>
              {{/if}}
            </div>
        </div>
      </nav>



      <div class="p-5">
        <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
          <div class="col-10 col-sm-8 col-lg-6">
            <img src="/meet.jpeg" class="d-block mx-lg-auto img-fluid" alt="Bootstrap Themes" width="600" height="400" loading="lazy">
          </div>
          <div class="col-lg-6">
          {{!-- <div class="text-center"></div> --}}
            <h1 class="display-5 fw-bold lh-1 mb-3" style="color:White;">Online video meet and chat</h1>
            <p class="lead" style="color:White;">Connect with your friends and families with video and audio.</p>
            <div class="d-grid gap-2 d-md-flex justify-content-md-start">
                <div class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown"><button type="button" class="btn btn-primary btn-lg px-4 me-md-2">New Meeting</button></a>
                    <div class="dropdown-menu">
                        <button class="btn btn-primary mx-2" data-toggle="modal" data-target="#exampleModal">Create meeting for later</button>
                        {{!-- <a href="#" class="dropdown-item">Create a meeting for later</a> --}}
                        <a href="/roomid/{{roomId}}" class="meeting"><button class="btn btn-primary my-2 mx-2">Start an instant meeting</button></a>
                    </div>
                </div>
                <form class="form-inline my-2 my-lg-0" action="joinmeet" method="POST">
                <input class="form-control mr-sm-2" type="text" name="roomcode" placeholder="Enter room ID" aria-label="Search">
                <button class="btn btn-outline-primary my-2 my-sm-0" type="submit">Join</button></form>
            </div>
          </div>
        </div>
      </div>




      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Room Id</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <h2 id="roomidlater">{{roomId}}</h2>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="button" onclick="copyFunction()" class="btn btn-primary">Copy</button>
            </div>
          </div>
        </div>
      </div>



  <script>
//    $('#laterroom').hide();
//$('#roomidlater').hide();
//function hidefn(){
//  $('#laterroom').hide();
//}
//function showfn(){
//  $('#laterroom').show();
//}
  function copyFunction() {//fn for copying test
    var text = document.getElementById("roomidlater").innerHTML;
    navigator.clipboard.writeText(text).then(function() {
      alert(text + " copied to clipboard");
      console.log('Async: Copying to clipboard was successful!');
    }, function(err) {
      console.error('Async: Could not copy text: ', err);
    });
  //var copyText = document.createElement("textarea");
  //copyText.value = text;
  //console.log(copyText)
  //copyText.select();
  //copyText.setSelectionRange(0, 99999); /* For mobile devices */

  /* Copy the text inside the text field */
  //document.execCommand("copy");

  //copy(copyText);
  /* Alert the copied text */
  }
  </script>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

    
  </body>
</html>